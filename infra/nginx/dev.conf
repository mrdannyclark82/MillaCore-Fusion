server {
  listen 80;

  # Milla Gem frontend at /milla-gem/
  location /milla-gem/ {
    proxy_pass http://host.docker.internal:3001/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }

  # Gemini Assistant frontend at /gemini-assistant/
  location /gemini-assistant/ {
    proxy_pass http://host.docker.internal:3002/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }

  # Portal at root
  location / {
    root /work/apps/portal;
    try_files $uri $uri/ =404;
  }
}
