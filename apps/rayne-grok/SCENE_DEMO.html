<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Adaptive Scene System - Demo</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: #000;
        color: #fff;
        overflow-x: hidden;
      }

      .demo-container {
        position: relative;
        min-height: 100vh;
        display: grid;
        grid-template-columns: 2fr 1fr;
      }

      /* Scene Preview Area */
      .scene-area {
        position: relative;
        min-height: 100vh;
        overflow: hidden;
      }

      /* Animated Background */
      .scene-background {
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, #667eea, #764ba2, #89cff0, #a8d8ea);
        background-size: 200% 200%;
        animation: gradient-shift 15s ease infinite;
        transition: all 1s ease-in-out;
      }

      @keyframes gradient-shift {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      /* Parallax Layers */
      .parallax-layer {
        position: absolute;
        inset: 0;
        pointer-events: none;
        transition: transform 0.3s ease-out;
      }

      .parallax-layer-1 {
        opacity: 0.3;
        background: radial-gradient(
          circle at 50% 50%,
          rgba(102, 126, 234, 0.6),
          transparent
        );
      }

      .parallax-layer-2 {
        opacity: 0.2;
        background: radial-gradient(
          circle at 30% 70%,
          rgba(118, 75, 162, 0.6),
          transparent
        );
      }

      /* Particles */
      .particle {
        position: absolute;
        width: 2px;
        height: 2px;
        background: white;
        border-radius: 50%;
        opacity: 0.6;
        filter: blur(1px);
        animation:
          float 20s linear infinite,
          twinkle 3s ease-in-out infinite;
      }

      @keyframes float {
        0% {
          transform: translateY(0) translateX(0) scale(1);
          opacity: 0;
        }
        10% {
          opacity: 0.6;
        }
        90% {
          opacity: 0.6;
        }
        100% {
          transform: translateY(-100vh) translateX(20px) scale(0.8);
          opacity: 0;
        }
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.4;
        }
        50% {
          opacity: 1;
        }
      }

      /* Ambient glow */
      .ambient-glow {
        position: absolute;
        inset: 0;
        opacity: 0.1;
        background: radial-gradient(
          circle at center,
          rgba(168, 216, 234, 0.8),
          transparent
        );
        animation: pulse 4s ease-in-out infinite;
        pointer-events: none;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 0.1;
        }
        50% {
          opacity: 0.3;
        }
      }

      /* Scene Info Indicator */
      .scene-info {
        position: absolute;
        bottom: 20px;
        left: 20px;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        padding: 12px;
        font-size: 12px;
        font-family: 'Courier New', monospace;
        transition: all 0.3s ease;
        z-index: 10;
      }

      .scene-info:hover {
        padding: 16px;
        background: rgba(0, 0, 0, 0.8);
      }

      .scene-info .indicator {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #fff;
      }

      .scene-info .status-dot {
        width: 8px;
        height: 8px;
        background: #4ade80;
        border-radius: 50%;
        animation: pulse-dot 2s ease-in-out infinite;
      }

      @keyframes pulse-dot {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .scene-info .details {
        margin-top: 8px;
        padding-top: 8px;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        display: none;
        font-size: 10px;
      }

      .scene-info:hover .details {
        display: block;
      }

      .scene-info .detail-row {
        display: flex;
        gap: 8px;
        margin: 4px 0;
      }

      .scene-info .label {
        color: #9ca3af;
      }

      .scene-info .value {
        color: #fbbf24;
      }

      /* Control Panel */
      .control-panel {
        background: #1a1a1a;
        padding: 24px;
        overflow-y: auto;
        border-left: 1px solid #333;
      }

      .control-panel h2 {
        font-size: 20px;
        margin-bottom: 20px;
        color: #fff;
      }

      .control-group {
        margin-bottom: 24px;
      }

      .control-group label {
        display: block;
        font-size: 14px;
        margin-bottom: 8px;
        color: #9ca3af;
      }

      .control-group select,
      .control-group input[type='range'] {
        width: 100%;
        padding: 8px;
        background: #2a2a2a;
        border: 1px solid #444;
        border-radius: 4px;
        color: #fff;
        font-size: 14px;
      }

      .control-group input[type='range'] {
        padding: 0;
      }

      .control-group .value-display {
        display: inline-block;
        margin-left: 8px;
        color: #60a5fa;
        font-size: 12px;
      }

      .toggle-btn {
        width: 100%;
        padding: 10px;
        background: #3b82f6;
        border: none;
        border-radius: 4px;
        color: #fff;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: background 0.2s;
      }

      .toggle-btn:hover {
        background: #2563eb;
      }

      .toggle-btn.disabled {
        background: #374151;
        color: #6b7280;
      }

      .info-box {
        background: rgba(59, 130, 246, 0.1);
        border: 1px solid rgba(59, 130, 246, 0.3);
        border-radius: 4px;
        padding: 12px;
        margin-top: 20px;
        font-size: 12px;
        color: #93c5fd;
      }

      .info-box h3 {
        font-size: 14px;
        margin-bottom: 8px;
        color: #60a5fa;
      }

      .info-box ul {
        list-style: none;
        padding-left: 0;
      }

      .info-box li {
        margin: 4px 0;
        padding-left: 16px;
        position: relative;
      }

      .info-box li:before {
        content: 'âœ“';
        position: absolute;
        left: 0;
        color: #4ade80;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <!-- Scene Preview Area (Left 2/3) -->
      <div class="scene-area">
        <!-- Animated Background -->
        <div id="sceneBackground" class="scene-background"></div>

        <!-- Parallax Layers -->
        <div id="parallaxLayer1" class="parallax-layer parallax-layer-1"></div>
        <div id="parallaxLayer2" class="parallax-layer parallax-layer-2"></div>

        <!-- Particles Container -->
        <div id="particlesContainer"></div>

        <!-- Ambient Glow -->
        <div class="ambient-glow"></div>

        <!-- Scene Info Indicator -->
        <div class="scene-info">
          <div class="indicator">
            <div class="status-dot"></div>
            <span>Adaptive Scene</span>
          </div>
          <div class="details">
            <div class="detail-row">
              <span class="label">Time:</span>
              <span class="value" id="timeOfDay">day</span>
            </div>
            <div class="detail-row">
              <span class="label">Mood:</span>
              <span class="value" id="moodValue">calm</span>
            </div>
            <div class="detail-row">
              <span class="label">Particles:</span>
              <span class="value" id="particleCount">40</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Control Panel (Right 1/3) -->
      <div class="control-panel">
        <h2>ðŸŽ¨ Scene Settings</h2>

        <!-- Adaptive Background Toggle -->
        <div class="control-group">
          <button id="enabledToggle" class="toggle-btn">Enabled</button>
        </div>

        <!-- Mood Selector -->
        <div class="control-group">
          <label for="moodSelect">Mood</label>
          <select id="moodSelect">
            <option value="calm">Calm</option>
            <option value="energetic">Energetic</option>
            <option value="romantic">Romantic</option>
            <option value="mysterious">Mysterious</option>
            <option value="playful">Playful</option>
          </select>
        </div>

        <!-- Time of Day Selector -->
        <div class="control-group">
          <label for="timeSelect">Time of Day</label>
          <select id="timeSelect">
            <option value="dawn">Dawn</option>
            <option value="day">Day</option>
            <option value="dusk">Dusk</option>
            <option value="night">Night</option>
          </select>
        </div>

        <!-- Parallax Intensity -->
        <div class="control-group">
          <label for="parallaxSlider">
            Parallax Intensity
            <span class="value-display" id="parallaxValue">50</span>
          </label>
          <input type="range" id="parallaxSlider" min="0" max="75" value="50" />
        </div>

        <!-- Particle Density -->
        <div class="control-group">
          <label for="particleSlider">
            Particle Density
            <span class="value-display" id="particleDensityValue">medium</span>
          </label>
          <input type="range" id="particleSlider" min="0" max="3" value="2" />
        </div>

        <!-- Animation Speed -->
        <div class="control-group">
          <label for="speedSlider">
            Animation Speed
            <span class="value-display" id="speedValue">100%</span>
          </label>
          <input type="range" id="speedSlider" min="50" max="150" value="100" />
        </div>

        <!-- Info Box -->
        <div class="info-box">
          <h3>Acceptance Criteria âœ“</h3>
          <ul>
            <li>Dynamic animated background</li>
            <li>Time-of-day transitions</li>
            <li>Mood overlays</li>
            <li>Parallax effects</li>
            <li>Particle effects</li>
            <li>Graceful degradation</li>
            <li>Real-time controls</li>
            <li>Diagnostic overlay</li>
          </ul>
        </div>
      </div>
    </div>

    <script>
      // Scene configurations
      const SCENES = {
        time: {
          dawn: ['#FF6B9D', '#FFA07A', '#FFD700', '#87CEEB'],
          day: ['#87CEEB', '#B0E0E6', '#ADD8E6', '#E0F6FF'],
          dusk: ['#FF6B6B', '#FF8E53', '#FE6B8B', '#C471ED'],
          night: ['#0F2027', '#203A43', '#2C5364', '#1A1A2E'],
        },
        mood: {
          calm: ['#667eea', '#764ba2', '#89CFF0', '#A8D8EA'],
          energetic: ['#f093fb', '#f5576c', '#FF6B9D', '#FEC163'],
          romantic: ['#FE6B8B', '#FF8E53', '#FFAFBD', '#FFC3A0'],
          mysterious: ['#2E3440', '#3B4252', '#434C5E', '#4C566A'],
          playful: ['#FF6B9D', '#C471ED', '#12c2e9', '#f64f59'],
        },
      };

      // State
      let state = {
        enabled: true,
        timeOfDay: 'day',
        mood: 'calm',
        parallaxIntensity: 50,
        particleDensity: 2,
        animationSpeed: 1.0,
        mouseX: 0,
        mouseY: 0,
      };

      // DOM elements
      const sceneBackground = document.getElementById('sceneBackground');
      const parallaxLayer1 = document.getElementById('parallaxLayer1');
      const parallaxLayer2 = document.getElementById('parallaxLayer2');
      const particlesContainer = document.getElementById('particlesContainer');

      // Update scene background
      function updateScene() {
        if (!state.enabled) {
          sceneBackground.style.background = '#1a1a1a';
          return;
        }

        const colors = SCENES.mood[state.mood] || SCENES.time[state.timeOfDay];
        const gradient = `linear-gradient(135deg, ${colors.join(', ')})`;
        sceneBackground.style.background = gradient;
        sceneBackground.style.animationDuration = `${15 / state.animationSpeed}s`;

        document.getElementById('timeOfDay').textContent = state.timeOfDay;
        document.getElementById('moodValue').textContent = state.mood;
      }

      // Generate particles
      function generateParticles() {
        const densities = [0, 20, 40, 60];
        const count = densities[state.particleDensity];

        particlesContainer.innerHTML = '';

        for (let i = 0; i < count; i++) {
          const particle = document.createElement('div');
          particle.className = 'particle';
          particle.style.left = `${Math.random() * 100}%`;
          particle.style.top = `${Math.random() * 100}%`;
          particle.style.animationDelay = `${Math.random() * 10}s`;
          particle.style.animationDuration = `${(10 + Math.random() * 20) / state.animationSpeed}s`;
          particlesContainer.appendChild(particle);
        }

        document.getElementById('particleCount').textContent = count;
      }

      // Handle mouse move for parallax
      function handleMouseMove(e) {
        const x = (e.clientX / window.innerWidth - 0.5) * 2;
        const y = (e.clientY / window.innerHeight - 0.5) * 2;

        state.mouseX = x;
        state.mouseY = y;

        const intensity = state.parallaxIntensity;
        parallaxLayer1.style.transform = `translate(${x * intensity}px, ${y * intensity}px) scale(1.1)`;
        parallaxLayer2.style.transform = `translate(${x * intensity * 1.5}px, ${y * intensity * 1.5}px) scale(1.2)`;
      }

      // Event listeners
      document
        .getElementById('enabledToggle')
        .addEventListener('click', function () {
          state.enabled = !state.enabled;
          this.textContent = state.enabled ? 'Enabled' : 'Disabled';
          this.classList.toggle('disabled', !state.enabled);
          updateScene();
        });

      document
        .getElementById('moodSelect')
        .addEventListener('change', function () {
          state.mood = this.value;
          updateScene();
        });

      document
        .getElementById('timeSelect')
        .addEventListener('change', function () {
          state.timeOfDay = this.value;
          updateScene();
        });

      document
        .getElementById('parallaxSlider')
        .addEventListener('input', function () {
          state.parallaxIntensity = parseInt(this.value);
          document.getElementById('parallaxValue').textContent = this.value;
        });

      document
        .getElementById('particleSlider')
        .addEventListener('input', function () {
          state.particleDensity = parseInt(this.value);
          const labels = ['off', 'low', 'medium', 'high'];
          document.getElementById('particleDensityValue').textContent =
            labels[this.value];
          generateParticles();
        });

      document
        .getElementById('speedSlider')
        .addEventListener('input', function () {
          state.animationSpeed = parseInt(this.value) / 100;
          document.getElementById('speedValue').textContent = this.value + '%';
          updateScene();
          generateParticles();
        });

      document
        .querySelector('.scene-area')
        .addEventListener('mousemove', handleMouseMove);

      // Initialize
      updateScene();
      generateParticles();
    </script>
  </body>
</html>
